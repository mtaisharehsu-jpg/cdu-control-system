# CDU機種定義管理功能說明

## 🎯 功能概述

CDU機種定義管理系統提供完整的機種配置管理功能，支援多機種切換、感測器配置編輯、配置導入導出等高級功能。

## 📊 主要功能模組

### 1. 統計概覽卡片
**位置**: 頁面頂部
**功能**: 
- 顯示當前使用機種信息
- 統計總機種數、預定義機種數、自定義機種數
- 感測器使用率和健康狀態
- 系統各項指標評估

**特色**:
- 🟢 實時數據更新
- 📈 視覺化進度條
- 🎨 色彩編碼狀態指示
- 📊 多維度統計信息

### 2. 機種列表管理
**位置**: 主要內容區域
**功能**:
- 顯示所有可用機種的詳細信息
- 支援機種類型篩選（預定義/自定義）
- 一鍵切換當前使用機種
- 豐富的操作選項

**列表欄位**:
- **機種名稱**: 顯示機種識別碼，當前機種有特殊標記
- **類型**: 預定義/自定義標籤
- **描述**: 機種的詳細說明
- **感測器數量**: 該機種包含的感測器總數
- **狀態**: 使用中/待機狀態
- **操作**: 多種操作選項

### 3. 詳細配置管理
**觸發**: 點擊"查看配置"
**功能**:
- 按感測器類型分組顯示配置
- 支援感測器參數編輯
- 新增/刪除感測器功能
- 配置驗證和保存

**感測器類型**:
- 🌡️ **溫度感測器**: 溫度相關參數配置
- 📊 **壓力感測器**: 壓力測量配置
- 💧 **流量感測器**: 流量監控配置
- 🔌 **IO感測器**: 數位輸入輸出配置

**編輯功能**:
- 暫存器地址設定
- 描述和單位配置
- 精度和範圍設定
- 轉換係數調整

### 4. 導入/導出功能
**觸發**: 點擊"導入/導出"
**功能**:
- JSON格式配置導出
- 配置文件導入
- 範例配置提供
- 格式驗證

**導出選項**:
- 📥 下載JSON文件
- 📋 複製到剪貼板
- 🔍 預覽配置內容

**導入選項**:
- 📤 貼上JSON配置
- 📝 使用範例配置
- ✅ 自動格式驗證

## 🔧 操作流程

### 創建新機種
1. 點擊"新增機種"按鈕
2. 填寫機種基本信息：
   - 機種類型（唯一識別碼）
   - 機種名稱（顯示名稱）
   - 描述信息
3. 系統自動創建基本感測器配置
4. 可進一步編輯詳細配置

### 切換機種
1. 在機種列表中找到目標機種
2. 點擊"設定"圖標
3. 系統自動切換並更新狀態
4. 所有相關組件自動更新

### 編輯機種配置
1. 選擇自定義機種（預定義機種唯讀）
2. 點擊"查看配置"
3. 選擇要編輯的感測器類型
4. 編輯感測器參數或新增感測器
5. 保存配置更改

### 導入機種配置
1. 點擊"導入/導出"
2. 切換到"導入配置"標籤
3. 貼上有效的JSON配置或使用範例
4. 點擊"導入"創建新機種

### 導出機種配置
1. 選擇要導出的機種
2. 點擊"導入/導出"
3. 切換到"導出配置"標籤
4. 選擇下載文件或複製內容

## 🎨 用戶界面特色

### 視覺設計
- **Material-UI設計語言**: 現代化、一致的界面風格
- **響應式布局**: 支援不同螢幕尺寸
- **色彩編碼**: 直觀的狀態和類型指示
- **圖標系統**: 豐富的視覺提示

### 交互體驗
- **即時反饋**: 操作結果立即顯示
- **載入狀態**: 清楚的處理進度指示
- **錯誤處理**: 友好的錯誤信息提示
- **確認對話框**: 重要操作的安全確認

### 數據展示
- **表格視圖**: 清晰的數據組織
- **卡片布局**: 重要信息突出顯示
- **進度指示**: 視覺化的統計信息
- **狀態標籤**: 一目了然的狀態信息

## 🔒 安全和限制

### 操作限制
- **預定義機種**: 只能查看，無法編輯或刪除
- **當前機種**: 無法刪除正在使用的機種
- **配置驗證**: 導入配置時進行格式和完整性檢查

### 數據保護
- **操作確認**: 刪除等危險操作需要確認
- **錯誤恢復**: 操作失敗時提供重試選項
- **狀態同步**: 確保前後端數據一致性

## 📈 性能特色

### 響應速度
- **異步操作**: 非阻塞的API調用
- **智能刷新**: 只在必要時重新載入數據
- **緩存機制**: 減少重複的網路請求

### 用戶體驗
- **熱重載**: 開發時的即時更新
- **錯誤邊界**: 優雅的錯誤處理
- **載入優化**: 分步載入和漸進式顯示

## 🚀 技術實現

### 前端技術棧
- **React 18**: 現代化的組件框架
- **TypeScript**: 類型安全的開發體驗
- **Material-UI**: 專業的UI組件庫
- **Axios**: 可靠的HTTP客戶端

### 狀態管理
- **React Hooks**: 現代化的狀態管理
- **本地狀態**: 組件級別的狀態控制
- **API集成**: 與後端的無縫通訊

### 代碼組織
- **模組化設計**: 清晰的功能分離
- **可重用組件**: 高度可維護的代碼結構
- **類型定義**: 完整的TypeScript類型支援

## 📝 使用建議

### 最佳實踐
1. **定期備份**: 導出重要的自定義機種配置
2. **命名規範**: 使用清楚的機種類型和名稱
3. **配置驗證**: 導入前仔細檢查配置格式
4. **測試切換**: 切換機種後驗證系統功能

### 故障排除
1. **載入失敗**: 檢查網路連接和後端服務狀態
2. **切換失敗**: 確認目標機種配置正確
3. **導入失敗**: 驗證JSON格式和必要欄位
4. **編輯限制**: 確認機種類型和權限

---

**版本**: v1.0.0  
**更新日期**: 2025-07-21  
**開發團隊**: CDU系統開發團隊
