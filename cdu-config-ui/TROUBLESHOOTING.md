# CDU前端系統故障排除指南

## 🔍 常見問題診斷

### 1. 前端頁面顯示空白

#### 可能原因和解決方案：

**A. CSS樣式問題**
- **問題**: 默認的Vite CSS可能導致布局問題
- **解決**: 已修復 `src/index.css` 中的 `body` 樣式
- **檢查**: 確認CSS中沒有 `display: flex; place-items: center;`

**B. JavaScript錯誤**
- **檢查方法**: 打開瀏覽器開發者工具 (F12)
- **查看**: Console標籤中的錯誤信息
- **常見錯誤**: 模組導入失敗、API調用錯誤

**C. 模組導入問題**
- **問題**: 循環依賴或缺失的導入
- **解決**: 已簡化 `src/api/index.ts` 中的導入
- **檢查**: 確認所有組件都能正確導入

**D. 網路問題**
- **檢查**: 開發服務器是否正在運行 (localhost:5173)
- **確認**: 控制台沒有網路錯誤

### 2. 開發服務器問題

#### 檢查服務器狀態：
```bash
# 在 cdu-config-ui 目錄下
npm run dev
```

#### 預期輸出：
```
VITE v4.x.x  ready in xxx ms

➜  Local:   http://localhost:5173/
➜  Network: use --host to expose
```

### 3. API連接問題

#### 檢查後端服務：
- **後端地址**: http://localhost:8001
- **API基礎路徑**: /redfish/v1/Systems/CDU1/Oem/CDU
- **測試方法**: 使用API測試工具頁面

#### 常見API錯誤：
- **CORS錯誤**: 後端需要配置CORS
- **連接超時**: 檢查後端服務是否運行
- **404錯誤**: 檢查API路徑是否正確

### 4. 瀏覽器兼容性

#### 支援的瀏覽器：
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

#### 檢查方法：
- 使用現代瀏覽器
- 啟用JavaScript
- 清除瀏覽器緩存

## 🛠️ 診斷步驟

### 步驟1: 基本檢查
1. 確認開發服務器正在運行
2. 檢查瀏覽器控制台錯誤
3. 驗證網路連接

### 步驟2: 組件測試
1. 訪問測試頁面 (如果可用)
2. 檢查各個功能模組
3. 測試導航功能

### 步驟3: API測試
1. 使用API測試工具
2. 檢查後端連接
3. 驗證數據格式

### 步驟4: 深度診斷
1. 檢查網路標籤
2. 分析性能問題
3. 查看React組件樹

## 🔧 快速修復

### 重啟開發服務器：
```bash
# 停止服務器 (Ctrl+C)
# 重新啟動
npm run dev
```

### 清除緩存：
```bash
# 清除npm緩存
npm cache clean --force

# 重新安裝依賴
rm -rf node_modules package-lock.json
npm install
```

### 重置到工作狀態：
```bash
# 檢查Git狀態
git status

# 如果需要，重置到最後的工作提交
git reset --hard HEAD
```

## 📞 獲取幫助

### 檢查日誌：
1. **瀏覽器控制台**: F12 → Console
2. **網路請求**: F12 → Network
3. **開發服務器**: 終端輸出

### 收集信息：
- 瀏覽器版本
- 錯誤信息截圖
- 控制台日誌
- 網路請求狀態

### 常用調試命令：
```bash
# 檢查Node.js版本
node --version

# 檢查npm版本
npm --version

# 檢查依賴
npm list

# 運行類型檢查
npm run type-check
```

## 🎯 已知問題和解決方案

### 問題1: 模組導入錯誤
- **症狀**: "Cannot find module" 錯誤
- **解決**: 檢查文件路徑和導入語句
- **狀態**: 已修復API模組導入問題

### 問題2: CSS布局問題
- **症狀**: 頁面內容不顯示或位置異常
- **解決**: 修復index.css中的body樣式
- **狀態**: 已修復

### 問題3: API調用失敗
- **症狀**: 網路錯誤或超時
- **解決**: 檢查後端服務和CORS配置
- **狀態**: 需要確認後端服務狀態

### 問題4: TypeScript錯誤
- **症狀**: 類型檢查失敗
- **解決**: 更新類型定義和導入
- **狀態**: 持續監控

## 📋 檢查清單

### 前端啟動檢查：
- [ ] Node.js版本 >= 16
- [ ] npm依賴已安裝
- [ ] 開發服務器正在運行
- [ ] 瀏覽器能訪問localhost:5173
- [ ] 控制台沒有錯誤

### 功能檢查：
- [ ] 頁面正常顯示
- [ ] 導航功能正常
- [ ] 機種管理功能可用
- [ ] API測試工具可用
- [ ] 數據載入正常

### 性能檢查：
- [ ] 頁面載入速度正常
- [ ] 沒有記憶體洩漏
- [ ] 網路請求正常
- [ ] 沒有無限循環

---

**最後更新**: 2025-07-21  
**版本**: v1.0.0
